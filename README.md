#  Отладка кода в 4 лабораторной работе

## Введение

Было внесено в код предыдущей лабораторной 5 ошибок:
- ОШИБКА 1 - Off-by-one
- ОШИБКА 2 - неверное логическое условие
- ОШИБКА 3 - is вместо ==
- ОШИБКА 4 - перехват слишĸом общего исĸлючения
- ОШИБКА 5 - обращение к несуществующему атрибуту объекта

Была произведена отладка каждой ошибки

#### По отладке ошибок составлен отчет report.pdf

#### Код с ошибками расположен в src_buggy в services/casino.py и models/gooses.py

#### Код с ошибками расположен в src_fixed в services/casino.py и models/gooses.py

#### Ошибки и их исправления можно искать по ключевым словам: ОШИБКА и ИСПРАВЛЕНИЕ в соответствующих папках

## Запуск

1) Форкаем репозиторий:

```shell
git clone <ссылка на репозиторий>
```

3) Создаем и активируем дефолтное виртуальное окружение и импортируем зависимости из requirements.txt

4) Прописываем команду тайпера run -s {число шагов} --seed {сид} или demo (где уже указаны параметры для демонстрации)

Примеры:

```shell
python -m src_buggy.main run -s 1 --seed 20
```
```shell
python -m src_fixed.main demo
```

-------НА-ВСЯКИЙ-СЛУЧАЙ--------

## Формат вывода в 4 лабораторной 

Помечаю в консоли сверху и снизу начало и конец шага, соответственно

Внутри тела шага, сначала идут логи, потом называется событие
Пример при вводе "python -m src_fixed.main demo":
```shell
  + Игрок
  + Игрок
  + Игрок
  + Игрок
  + Гусь
  + Гусь

══════════════════════════════ [ШАГ 1] ════════════════════════════════════
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]
  Баланс игрока Саня: 100 -> 21
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]

[СОБЫТИЕ] Игрок Саня поставил $79 и ставка не залетела.. [СОБЫТИЕ]
══════════════════════════════ [ШАГ 1] ════════════════════════════════════

══════════════════════════════ [ШАГ 2] ════════════════════════════════════
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]
  Баланс игрока Саня: 21 -> 16
  Гусь Клык заработал: 0 -> 5
  Баланс игрока Вован: 220 -> 215
  Гусь Клык заработал: 5 -> 10
  Баланс игрока zxc_иван: 320 -> 315
  Гусь Клык заработал: 10 -> 15
  Баланс игрока Иоанн: 65 -> 60
  Гусь Клык заработал: 15 -> 20
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]

[СОБЫТИЕ] Гусь Клык издал крик громкостью 5. Пострадало 4 игроков! [СОБЫТИЕ]
══════════════════════════════ [ШАГ 2] ════════════════════════════════════

══════════════════════════════ [ШАГ 3] ════════════════════════════════════
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]
  + Игрок
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]

[СОБЫТИЕ] Игрок Герасим сел за стол (HP: 100, Баланс: $305) [СОБЫТИЕ]
══════════════════════════════ [ШАГ 3] ════════════════════════════════════

══════════════════════════════ [ШАГ 4] ════════════════════════════════════
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]
  Баланс игрока Герасим: 305 -> 294
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]

[СОБЫТИЕ] Игрок Герасим поставил $11 и ставка не залетела.. [СОБЫТИЕ]
══════════════════════════════ [ШАГ 4] ════════════════════════════════════

══════════════════════════════ [ШАГ 5] ════════════════════════════════════
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]
  HP игрока Саня: 100 -> 60
  HP игрока Вован: 100 -> 60
  HP игрока zxc_иван: 100 -> 60
  HP игрока Иоанн: 100 -> 60
  HP игрока Герасим: 100 -> 60
[ИЗМЕНЕНИЯ ПОСЛЕ СОБЫТИЯ]

[СОБЫТИЕ] Неожиданно из-за угла вылетела орава гусей! HP всех игроков уменьшилось на 40!  [СОБЫТИЕ]
══════════════════════════════ [ШАГ 5] ════════════════════════════════════
```